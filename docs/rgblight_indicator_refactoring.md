# V251012R3 RGB 인디케이터 리팩토링 검토

## 검토 개요
- 대상: V251012R2에서 도입된 Brick60 RGB 인디케이터 파이프라인.
- 목표: 불필요 코드 정리, 오버헤드 축소, 제어 흐름 간소화 여부 검토.

## 불필요 코드 / 사용 종료된 요소 정리
- 포트 계층(`indicator_port.c`)에서 인디케이터 슬롯을 별도로 정의하던 중복 구조체를 제거하고, `rgblight`이 제공하는 `rgblight_indicator_config_t`를 직접 사용하도록 조정.
- 중복 구조 제거로 유지보수 시 구조체 불일치 위험 해소.

## 성능 및 오버헤드 검토
- `rgblight_indicator_prepare_buffer()`가 매 렌더링마다 LED 배열 전체를 반복문으로 초기화하고, 동일한 HSV→RGB 변환을 LED 개수만큼 반복하던 부분을 `memset()`과 단일 변환으로 대체.
  - LED 개수에 비례하던 반복 연산을 상수 시간 초기화로 축소하여 타이머 인터럽트 진입 시 오버헤드 감소.
- 인디케이터 상태 전이 시 중복 호출되던 `rgblight_set()` 경로를 통합하여, 필요 시에만 렌더링을 트리거하도록 개선.

## 제어 흐름 단순화
- 상태 관리 로직을 `rgblight_indicator_commit_state()` 헬퍼로 공통화하여 `update_config()`와 `apply_host_led()`의 중복 분기 제거.
- 구성 변경과 호스트 LED 이벤트의 역할을 분리하여 가독성과 추적성을 향상.

## 수정 적용 여부 판단
- 중복 구조체 제거로 유지보수 부담 감소.
- LED 버퍼 초기화 비용 감소 및 상태 전이 공통화로 실행 경로 단순화/효율 향상.
- 리스크: 없음 (동일 구조체/상수 사용, 기존 동작과 호환 유지).

**결론: 수정 적용.**
