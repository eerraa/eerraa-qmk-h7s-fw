# V251012R4 RGB 인디케이터 리팩토링 검토

## 검토 개요
- 대상: V251012R2에서 도입된 Brick60 RGB 인디케이터 파이프라인.
- 목표: 불필요 코드 정리, 오버헤드 축소, 제어 흐름 간소화 여부 추가 검토.

## 불필요 코드 / 사용 종료된 요소 정리
- 포트 계층(`indicator_port.c`)의 래퍼 함수 `indicator_apply_config()`를 제거하고, VIA/초기화 경로에서 `rgblight_indicator_update_config()`를 직접 호출하도록 단순화.
- 중간 래퍼 제거로 구성 전달 경로 중복을 해소하고 추적해야 할 함수 수를 줄임.

## 성능 및 오버헤드 검토
- `rgblight_indicator_compute_color()`를 도입하여 HSV→RGB 변환을 구성 변경 시 한 번만 수행하고, 렌더링 시에는 캐시된 `rgb_led_t` 값을 그대로 복사.
  - 타이머 인터럽트 진입 시 매번 고비용 변환을 수행하던 경로를 제거하여 처리 시간을 단축.
- 캐시된 색상을 구조체 복사로 채우면서 `setrgb()` 호출 오버헤드를 제거해 루프 내 함수 호출을 없앰.

## 제어 흐름 단순화
- 구성 변경 시 캐시 갱신과 상태 전이를 동시에 처리하도록 `rgblight_indicator_update_config()`를 정리하여 데이터 흐름을 한 곳에서 관리.
- VIA 경로가 직접 업데이트 함수를 호출하도록 변경해 함수 간 의존 관계를 축소.

## 수정 적용 여부 판단
- HSV→RGB 변환 캐싱과 함수 호출 축소로 렌더링 오버헤드 감소.
- 포트 계층 래퍼 제거로 코드 흐름 간결화 및 유지보수 용이성 향상.
- 리스크: 없음 (구성 전달 경로 동일, 캐시 값은 기존 변환 결과를 그대로 재사용).

**결론: 수정 적용.**
